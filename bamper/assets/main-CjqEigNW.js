(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}})();document.addEventListener("DOMContentLoaded",function(){const m=document.getElementById("fileInput"),d=document.getElementById("previewContainer");let t=[];m.addEventListener("change",function(r){const c=Array.from(r.target.files).map(u=>({file:u,rotation:0}));t=[...t,...c],s()});function s(){d.innerHTML="",t.forEach((r,a)=>{const c=new FileReader;c.onload=function(u){const o=document.createElement("div");o.className="preview-item",o.draggable=!0,o.innerHTML=`
                    <img src="${u.target.result}" alt="Preview" style="transform: rotate(${r.rotation}deg)">
                    <button class="remove-btn preview-item__remove" data-index="${a}">
                        <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8.75 0.75L0.75 8.75M0.75 0.75L8.75 8.75" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="rotate-btn preview-item__rotate" data-index="${a}">
                        <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.4167 5.41667C13.4167 5.41667 12.08 3.59548 10.9941 2.50883C9.90821 1.42218 8.4076 0.75 6.75 0.75C3.43629 0.75 0.75 3.43629 0.75 6.75C0.75 10.0637 3.43629 12.75 6.75 12.75C9.4854 12.75 11.7933 10.9195 12.5155 8.41667M13.4167 5.41667V1.41667M13.4167 5.41667H9.41667" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <div class="drag-handle"></div>
                    <button class="preview-item__main" data-index="${a}">Главная</button>
                `,o.addEventListener("dragstart",i=>{i.dataTransfer.setData("text/plain",a),o.classList.add("dragging")}),o.addEventListener("dragend",()=>{o.classList.remove("dragging")}),o.addEventListener("dragover",i=>{i.preventDefault()}),o.addEventListener("drop",i=>{i.preventDefault();const p=parseInt(i.dataTransfer.getData("text/plain"));l(p,a)}),o.querySelector(".preview-item__main").addEventListener("click",function(){const i=parseInt(this.getAttribute("data-index"));n(i)}),o.querySelector(".remove-btn").addEventListener("click",function(){const i=parseInt(this.getAttribute("data-index"));e(i)}),o.querySelector(".rotate-btn").addEventListener("click",function(){const i=parseInt(this.getAttribute("data-index"));f(i)}),d.appendChild(o)},c.readAsDataURL(r.file)}),t.length>0?document.querySelector(".block-adaptive-upload").classList.add("add-file"):document.querySelector(".block-adaptive-upload").classList.remove("add-file")}function e(r){t.splice(r,1),s()}function n(r){const[a]=t.splice(r,1);t.splice(0,0,a),s()}function l(r,a){const[c]=t.splice(r,1);t.splice(a,0,c),s()}function f(r){t[r].rotation=(t[r].rotation+90)%360,s()}});
//# sourceMappingURL=main-CjqEigNW.js.map
